{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/computer/Documents/GitHub/MasseurMatch-usa/masseurmatch-nextjs/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error(\r\n    'Missing Supabase environment variables. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.'\r\n  );\r\n}\r\n\r\n// Client-side Supabase client (for use in Client Components)\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// Admin client (for server-only operations with full privileges).\r\n// Returns null if the service key is not configured.\r\nexport const supabaseAdmin = supabaseServiceKey\r\n  ? createClient(supabaseUrl, supabaseServiceKey, {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false,\r\n      },\r\n    })\r\n  : null;\r\n\r\nexport type Database = {\r\n  public: {\r\n    Tables: {\r\n      therapists: {\r\n        Row: {\r\n          user_id: string;\r\n          slug: string;\r\n          display_name: string;\r\n          full_name: string;\r\n          headline: string;\r\n          about: string;\r\n          city: string;\r\n          state: string;\r\n        };\r\n      };\r\n    };\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AACN,MAAM,qBAAqB,QAAQ,GAAG,CAAC,yBAAyB;AAEhE;;AAOO,MAAM,WAAW,IAAA,wNAAY,EAAC,aAAa;AAI3C,MAAM,gBAAgB,qBACzB,IAAA,wNAAY,EAAC,aAAa,oBAAoB;IAC5C,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;IAClB;AACF,KACA"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/computer/Documents/GitHub/MasseurMatch-usa/masseurmatch-nextjs/lib/site.ts"],"sourcesContent":["export const SITE_URL = \"https://masseurmatch.com\";\r\nexport const SITE_NAME = \"MasseurMatch\";\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,WAAW;AACjB,MAAM,YAAY"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/computer/Documents/GitHub/MasseurMatch-usa/masseurmatch-nextjs/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { FormEvent } from \"react\";\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { SITE_URL } from \"@/lib/site\";\r\n\r\nconst providers = [\"google\", \"apple\"] as const;\r\n\r\nexport default function LoginPage() {\r\n  const searchParams = useSearchParams();\r\n  const redirect = searchParams?.get(\"redirect\") ?? \"/dashboard\";\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState<string | null>(null);\r\n\r\n  const handleOAuth = async (provider: typeof providers[number]) => {\r\n    setMessage(\"Redirecting to provider...\");\r\n    const { error } = await supabase.auth.signInWithOAuth({\r\n      provider,\r\n      options: {\r\n        redirectTo: `${SITE_URL}${redirect}`,\r\n      },\r\n    });\r\n\r\n    if (error) setMessage(error.message);\r\n  };\r\n\r\n  const handleMagicLink = async (event: FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (!email) {\r\n      setMessage(\"Please enter your email.\");\r\n      return;\r\n    }\r\n\r\n    setMessage(\"Email link sentâ€”check your inbox.\");\r\n    const { error } = await supabase.auth.signInWithOtp({\r\n      email,\r\n      options: {\r\n        emailRedirectTo: `${SITE_URL}${redirect}`,\r\n      },\r\n    });\r\n\r\n    if (error) setMessage(error.message);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950\">\r\n      <div className=\"mx-auto max-w-3xl space-y-10 px-6 py-20 text-center\">\r\n        <div className=\"space-y-3\">\r\n          <h1 className=\"text-4xl font-semibold text-white\">Sign in to MasseurMatch</h1>\r\n          <p className=\"text-sm text-slate-400\">\r\n            Continue with a magic link or social login to manage your ads and favorites securely.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"rounded-3xl border border-slate-800 bg-white/10 p-8 shadow-2xl backdrop-blur\">\r\n          <form onSubmit={handleMagicLink} className=\"space-y-4\">\r\n            <label className=\"block text-left text-sm font-semibold text-slate-200\">\r\n              Email address\r\n              <input\r\n                className=\"mt-2 w-full rounded-2xl border border-slate-700 bg-slate-900/40 px-4 py-3 text-white placeholder:text-slate-500 focus:border-white focus:ring-2 focus:ring-white/30\"\r\n                placeholder=\"you@example.com\"\r\n                value={email}\r\n                onChange={(event) => setEmail(event.target.value)}\r\n              />\r\n            </label>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full rounded-2xl bg-white px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-100\"\r\n            >\r\n              Send magic link\r\n            </button>\r\n          </form>\r\n          <div className=\"mt-6 space-y-3\">\r\n            {providers.map((provider) => (\r\n              <button\r\n                key={provider}\r\n                onClick={() => handleOAuth(provider)}\r\n                className=\"flex w-full items-center justify-center gap-3 rounded-2xl border border-slate-700 bg-slate-900/60 px-4 py-3 text-sm font-semibold text-white transition hover:border-slate-500 hover:bg-slate-800\"\r\n              >\r\n                Continue with {provider}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {message && <p className=\"text-sm text-slate-300\">{message}</p>}\r\n\r\n        <p className=\"text-sm text-slate-500\">\r\n          Back to the <Link href=\"/\" className=\"text-white underline\">public site</Link>.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AAPA;;;;;;;AASA,MAAM,YAAY;IAAC;IAAU;CAAQ;AAEtB,SAAS;IACtB,MAAM,eAAe,IAAA,+KAAe;IACpC,MAAM,WAAW,cAAc,IAAI,eAAe;IAElD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2OAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2OAAQ,EAAgB;IAEtD,MAAM,cAAc,OAAO;QACzB,WAAW;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qJAAQ,CAAC,IAAI,CAAC,eAAe,CAAC;YACpD;YACA,SAAS;gBACP,YAAY,GAAG,iJAAQ,GAAG,UAAU;YACtC;QACF;QAEA,IAAI,OAAO,WAAW,MAAM,OAAO;IACrC;IAEA,MAAM,kBAAkB,OAAO;QAC7B,MAAM,cAAc;QACpB,IAAI,CAAC,OAAO;YACV,WAAW;YACX;QACF;QAEA,WAAW;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qJAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;YAClD;YACA,SAAS;gBACP,iBAAiB,GAAG,iJAAQ,GAAG,UAAU;YAC3C;QACF;QAEA,IAAI,OAAO,WAAW,MAAM,OAAO;IACrC;IAEA,qBACE,wQAAC;QAAI,WAAU;kBACb,cAAA,wQAAC;YAAI,WAAU;;8BACb,wQAAC;oBAAI,WAAU;;sCACb,wQAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAClD,wQAAC;4BAAE,WAAU;sCAAyB;;;;;;;;;;;;8BAKxC,wQAAC;oBAAI,WAAU;;sCACb,wQAAC;4BAAK,UAAU;4BAAiB,WAAU;;8CACzC,wQAAC;oCAAM,WAAU;;wCAAuD;sDAEtE,wQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,QAAU,SAAS,MAAM,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAGpD,wQAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;sCAIH,wQAAC;4BAAI,WAAU;sCACZ,UAAU,GAAG,CAAC,CAAC,yBACd,wQAAC;oCAEC,SAAS,IAAM,YAAY;oCAC3B,WAAU;;wCACX;wCACgB;;mCAJV;;;;;;;;;;;;;;;;gBAUZ,yBAAW,wQAAC;oBAAE,WAAU;8BAA0B;;;;;;8BAEnD,wQAAC;oBAAE,WAAU;;wBAAyB;sCACxB,wQAAC,iMAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAuB;;;;;;wBAAkB;;;;;;;;;;;;;;;;;;AAKxF"}}]
}