{"version":3,"sources":["../../../../../masseurmatch-nextjs/app/dashboard/ads/%5BadId%5D/edit/%5Bsection%5D/page.tsx"],"sourcesContent":["import { redirect, notFound } from 'next/navigation';\r\nimport { createServerSupabaseClient } from '@/lib/supabase/server';\r\nimport EditSectionForm from '@/components/dashboard/EditSectionForm';\r\n\r\nexport const metadata = {\r\n  title: 'Edit Section | Dashboard',\r\n  robots: { index: false, follow: false },\r\n};\r\n\r\nconst validSections = [\r\n  'basic',\r\n  'location',\r\n  'services',\r\n  'text',\r\n  'rates',\r\n  'hours',\r\n  'contact',\r\n  'links',\r\n  'misc',\r\n  'photos',\r\n];\r\n\r\nconst sectionConfig: Record<string, { title: string; description: string }> = {\r\n  basic: {\r\n    title: 'Basic Settings',\r\n    description: 'Configure appointment types and basic preferences',\r\n  },\r\n  location: {\r\n    title: 'Location',\r\n    description: 'Set your location, address, and service areas',\r\n  },\r\n  services: {\r\n    title: 'Your Services',\r\n    description: 'Define massage techniques, amenities, and services you offer',\r\n  },\r\n  text: {\r\n    title: 'Name / Headline / Text',\r\n    description: 'Write your profile headline and introduction',\r\n  },\r\n  rates: {\r\n    title: 'Rates & Payment',\r\n    description: 'Set your rates, payment methods, and discounts',\r\n  },\r\n  hours: {\r\n    title: 'Hours',\r\n    description: 'Configure your availability schedule',\r\n  },\r\n  contact: {\r\n    title: 'Contact Info',\r\n    description: 'Add your contact information',\r\n  },\r\n  links: {\r\n    title: 'Links',\r\n    description: 'Add your website, social media, and booking links',\r\n  },\r\n  misc: {\r\n    title: 'Professional Development / Miscellaneous',\r\n    description: 'Add certifications, languages, affiliations, and business trips',\r\n  },\r\n  photos: {\r\n    title: 'Photos',\r\n    description: 'Upload and manage your profile photos',\r\n  },\r\n};\r\n\r\nexport default async function EditSectionPage({\r\n  params,\r\n}: {\r\n  params: { adId: string; section: string };\r\n}) {\r\n  // Validate section\r\n  if (!validSections.includes(params.section)) {\r\n    notFound();\r\n  }\r\n\r\n  const supabase = await createServerSupabaseClient();\r\n\r\n  // Get current user\r\n  const {\r\n    data: { session },\r\n  } = await supabase.auth.getSession();\r\n\r\n  if (!session) {\r\n    redirect('/login');\r\n  }\r\n\r\n  // Get therapist profile\r\n  const { data: therapist, error } = await supabase\r\n    .from('therapists')\r\n    .select('*')\r\n    .eq('user_id', params.adId)\r\n    .single();\r\n\r\n  // Check authorization\r\n  if (!therapist || therapist.user_id !== session.user.id) {\r\n    redirect('/dashboard/ads');\r\n  }\r\n\r\n  const config = sectionConfig[params.section];\r\n\r\n  return (\r\n    <div className=\"edit-section-page\">\r\n      <div className=\"page-header\">\r\n        <div>\r\n          <h1>{config.title}</h1>\r\n          <p className=\"section-description\">{config.description}</p>\r\n        </div>\r\n        <a href={`/dashboard/ads/${params.adId}/edit`} className=\"btn-secondary\">\r\n          ‚Üê Back to All Sections\r\n        </a>\r\n      </div>\r\n\r\n      <EditSectionForm\r\n        section={params.section}\r\n        therapist={therapist}\r\n        adId={params.adId}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Generate static params for all valid sections\r\nexport async function generateStaticParams() {\r\n  return validSections.map((section) => ({\r\n    section,\r\n  }));\r\n}\r\n"],"names":[],"mappings":"0YAAA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,IAAM,EAAgB,CACpB,QACA,WACA,WACA,OACA,QACA,QACA,UACA,QACA,OACA,SACD,CAEK,EAAwE,CAC5E,MAAO,CACL,MAAO,iBACP,YAAa,mDACf,EACA,SAAU,CACR,MAAO,WACP,YAAa,+CACf,EACA,SAAU,CACR,MAAO,gBACP,YAAa,8DACf,EACA,KAAM,CACJ,MAAO,yBACP,YAAa,8CACf,EACA,MAAO,CACL,MAAO,kBACP,YAAa,gDACf,EACA,MAAO,CACL,MAAO,QACP,YAAa,sCACf,EACA,QAAS,CACP,MAAO,eACP,YAAa,8BACf,EACA,MAAO,CACL,MAAO,QACP,YAAa,mDACf,EACA,KAAM,CACJ,MAAO,2CACP,YAAa,iEACf,EACA,OAAQ,CACN,MAAO,SACP,YAAa,uCACf,CACF,EAEe,eAAe,EAAgB,QAC5C,CAAM,CAGP,EAEK,AAAC,EAAc,QAAQ,CAAC,EAAO,OAAO,GAAG,AAC3C,CAAA,EAAA,EAAA,QAAA,AAAQ,IAGV,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,0BAAA,AAA0B,IAG3C,CACJ,KAAM,SAAE,CAAO,CAAE,CAClB,CAAG,MAAM,EAAS,IAAI,CAAC,UAAU,EAE9B,CAAC,GACH,CAAA,EAAA,EAAA,CADY,OACZ,AAAQ,EAAC,UAIX,GAAM,CAAE,KAAM,CAAS,OAAE,CAAK,CAAE,CAAG,MAAM,EACtC,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,UAAW,EAAO,IAAI,EACzB,MAAM,EAGL,CAAC,GAAa,EAAU,OAAO,GAAK,EAAQ,IAAI,CAAC,EAAE,EAAE,AACvD,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,kBAGX,IAAM,EAAS,CAAa,CAAC,EAAO,OAAO,CAAC,CAE5C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAO,KAAK,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAO,WAAW,MAExD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,CAAC,eAAe,EAAE,EAAO,IAAI,CAAC,KAAK,CAAC,CAAE,UAAU,yBAAgB,8BAK3E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAe,CAAA,CACd,QAAS,EAAO,OAAO,CACvB,UAAW,EACX,KAAM,EAAO,IAAI,KAIzB,CAGO,eAAe,IACpB,OAAO,EAAc,GAAG,CAAC,AAAC,IAAa,CACrC,KADoC,KAEtC,CAAC,CACH,gEA1HwB,CACtB,MAAO,2BACP,OAAQ,CAAE,OAAO,EAAO,QAAQ,CAAM,CACxC"}