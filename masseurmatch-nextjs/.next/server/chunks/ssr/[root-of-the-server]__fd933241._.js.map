{"version":3,"sources":["../../../../../masseurmatch-nextjs/app/dashboard/billing/page.tsx"],"sourcesContent":["import { createServerSupabaseClient } from '@/lib/supabase/server';\r\n\r\nexport const metadata = {\r\n  title: 'Billing | Dashboard',\r\n  robots: { index: false, follow: false },\r\n};\r\n\r\nexport default async function BillingPage() {\r\n  const supabase = await createServerSupabaseClient();\r\n\r\n  const {\r\n    data: { session },\r\n  } = await supabase.auth.getSession();\r\n\r\n  if (!session) return null;\r\n\r\n  // Get user's therapist profile for subscription info\r\n  const { data: therapist } = await supabase\r\n    .from('therapists')\r\n    .select('plan, plan_name, price_monthly, subscription_status, paid_until, stripe_current_period_end')\r\n    .eq('user_id', session.user.id)\r\n    .single();\r\n\r\n  return (\r\n    <div className=\"billing-page\">\r\n      <h1>Billing & Subscription</h1>\r\n\r\n      {therapist ? (\r\n        <>\r\n          <div className=\"current-plan\">\r\n            <h2>Current Plan</h2>\r\n            <div className=\"plan-card\">\r\n              <div className=\"plan-header\">\r\n                <h3>{therapist.plan_name || therapist.plan || 'Free'}</h3>\r\n                <span className={`status-badge status-${therapist.subscription_status}`}>\r\n                  {therapist.subscription_status || 'inactive'}\r\n                </span>\r\n              </div>\r\n\r\n              {therapist.price_monthly && (\r\n                <p className=\"plan-price\">${therapist.price_monthly}/month</p>\r\n              )}\r\n\r\n              {therapist.paid_until && (\r\n                <p className=\"plan-expires\">\r\n                  {therapist.subscription_status === 'active' ? 'Renews' : 'Expires'} on:{' '}\r\n                  {new Date(therapist.paid_until).toLocaleDateString()}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"available-plans\">\r\n            <h2>Available Plans</h2>\r\n            <div className=\"plans-grid\">\r\n              <div className=\"plan-option\">\r\n                <h3>Free</h3>\r\n                <p className=\"price\">$0/month</p>\r\n                <ul>\r\n                  <li>✓ Basic profile listing</li>\r\n                  <li>✓ Contact information</li>\r\n                  <li>✗ Featured placement</li>\r\n                  <li>✗ Photo gallery</li>\r\n                </ul>\r\n                <button className=\"btn-secondary\">Current Plan</button>\r\n              </div>\r\n\r\n              <div className=\"plan-option featured\">\r\n                <h3>Premium</h3>\r\n                <p className=\"price\">$49.99/month</p>\r\n                <ul>\r\n                  <li>✓ Everything in Free</li>\r\n                  <li>✓ Featured placement</li>\r\n                  <li>✓ Unlimited photos</li>\r\n                  <li>✓ Priority support</li>\r\n                  <li>✓ Advanced analytics</li>\r\n                </ul>\r\n                <button className=\"btn-primary\">Upgrade to Premium</button>\r\n              </div>\r\n\r\n              <div className=\"plan-option\">\r\n                <h3>Professional</h3>\r\n                <p className=\"price\">$99.99/month</p>\r\n                <ul>\r\n                  <li>✓ Everything in Premium</li>\r\n                  <li>✓ Top placement</li>\r\n                  <li>✓ Custom branding</li>\r\n                  <li>✓ Dedicated account manager</li>\r\n                </ul>\r\n                <button className=\"btn-primary\">Upgrade to Professional</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"billing-history\">\r\n            <h2>Billing History</h2>\r\n            <p className=\"placeholder-text\">No billing history available.</p>\r\n            {/* TODO: Fetch from Stripe */}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"no-profile\">\r\n          <p>Create a therapist profile to manage your subscription.</p>\r\n          <a href=\"/dashboard/ads/new\" className=\"btn-primary\">\r\n            Create Profile\r\n          </a>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}